- @main_class = 'corkboard'

- if signed_in? && current_user == @user && !@user.name?
  .first_time
    %p 
      Hi there! If you'd like to change your password or possibly tell us your name, go ahead and click here &rarr; 
      = link_to 'edit profile.', edit_user_path(@user), :class => 'ajax' if current_user
.content.others
  .list
    %h2 bounties
    %ul
      - unless @bounties.count == 0
        - @bounties.each  do |bounty|
          %li.bounty 
            %ul
              %li.check
              %li= link_to bounty.purpose, assignment_url(bounty)
              %li.edit
      - else
        %li you have no new bounties
  .list
    %h2 freebies
    %ul
      - unless @freebies.count == 0
        - @freebies.each do |freebie|
          %li.freebie 
            %ul
              %li.check
                %li= link_to freebie.purpose, assignment_url(freebie)
              %li.edit
      - else
        %li you have no new freebies
  .list
    %h2 wishes
    %ul
      - unless @wishes.count == 0
        - @wishes.each do |wish|
          %li.gift 
            %ul
              %li.check
              %li= link_to wish.purpose, assignment_url(wish)
              %li.edit
      - else
        %li you have no new wishes
  .list.last
    %h2 gifts
    %ul
      - unless @gifts.count == 0
        - @gifts.each do |gift|
          %li.gift 
            %ul
              %li.check
              %li= link_to gift.purpose, assignment_url(gift)
              %li.edit
      - else
        %li you have no new gifts

#upcoming_filters
  %ul#assignee_filters
    %li.left.active my assignments
    %li.right everyone's assignments
  %ul#assignment_filters
    %li.left.active all
    %li#task_filter tasks
    %li.right#expense_filter expenses

#upcoming.content
  .list
    %h2 today
    %ul
      - @things.each do |thing|
        %li{ :class => thing._type.downcase } 
          %ul
            %li{ :title => thing._type.downcase }
            %li= link_to thing.purpose, assignment_url(thing)
            %li.edit
  .list
    %h2 tomorrow
    %ul
      %li you have nothing due tomorrow
 
  .list.last
    %h2= (Date::DAYNAMES[Date.tomorrow.next_day.wday.to_i]).downcase
    %ul
      %li you have nothing due  #{(Date::DAYNAMES[Date.tomorrow.next_day.wday.to_i]).downcase}

.header_bar
  %h1 these coming days
#centric.content  
  - # what weekday number is today? (Sun = 0, Mon = 1)?
  - weekday_number = Date.today.wday()
  - # how many days do we show after today
  - number_of_days = 13
  - (0..number_of_days).map do |i|
    - date = Date.today + i.days
    .day
      %p.day_name= Date::ABBR_DAYNAMES[date.wday()]
      %p.day_number= date.day

      #todo
        =link_to '99', '#', :class => "tasks"
        =link_to '2', '#', :class => "expenses"

.header_bar
  %h1 this month
#calendar.content  
  - # what weekday number is today? (Sun = 0, Mon = 1)?
  - weekday_number = Date.today.wday()
  - # how many days do we show
  - days = 34
  - # how many days are we showing after today?
  - number_of_days = (weekday_number == 0) ? days : days - weekday_number
  - # if the number of days after today are not
  - # equal to the total number of days shown
  - if number_of_days != days
    - (0..weekday_number).map do |i|
      - date = Date.today - weekday_number + i.days 
      - unless date == Date.today
        .day.past
          %p.day_name= Date::ABBR_DAYNAMES[date.wday()]
          %p= date.day
          #todo
            =link_to '0', '#', :class => "tasks"
            =link_to '0', '#', :class => "expenses"
  - (0..number_of_days).map do |i|
    - date = Date.today + i.days
    - current_day = (date == Date.today) ? 'current_day' : ''
    .day{:class => current_day}
      %p.day_name= Date::ABBR_DAYNAMES[date.wday()]
      %p= date.day
      #todo
        =link_to '99', '#', :class => "tasks"
        =link_to '2', '#', :class => "expenses"
#modal
#darknessification
