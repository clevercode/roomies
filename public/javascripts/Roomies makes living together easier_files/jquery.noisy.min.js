(function(c){c.fn.noisy=function(a){a=c.extend({},c.fn.noisy.defaults,a);var d,b=document.createElement("canvas");if(b.getContext){b.width=b.height=a.size;for(var h=b.getContext("2d"),e=h.createImageData(b.width,b.height),i=a.intensity*Math.pow(a.size,2),j=255*a.opacity;i--;){var f=(~~(Math.random()*b.width)+~~(Math.random()*b.height)*e.width)*4,g=i%255;e.data[f]=g;e.data[f+1]=a.monochrome?g:~~(Math.random()*255);e.data[f+2]=a.monochrome?g:~~(Math.random()*255);e.data[f+3]=~~(Math.random()*j)}h.putImageData(e,
0,0);d=b.toDataURL("image/png");if(d.indexOf("data:image/png")!=0||c.browser.msie&&c.browser.version.substr(0,1)<9&&d.length>32E3)d=a.fallback}else d=a.fallback;return this.each(function(){c(this).css("background-image","url('"+d+"'),"+c(this).css("background-image"))})};c.fn.noisy.defaults={intensity:0.9,size:200,opacity:0.08,fallback:"",monochrome:false}})(jQuery);